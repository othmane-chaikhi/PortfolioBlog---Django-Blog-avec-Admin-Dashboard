{% extends 'base.html' %}
{% load static %}

{% block title %}Accueil - Portfolio{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section bg-gradient-primary text-white rounded-3 p-5 mb-5 fade-in-section">
    <div class="row align-items-center">
        <div class="col-lg-8">
             <h1 class="display-4 fw-bold mb-3">
                <span id="typed-text"></span>
                <span class="cursor">|</span>
            </h1>
            <p class="lead mb-4 animate-slide-up" style="animation-delay: 0.5s;">
                Ingénieur en Informatique et Réseaux, je maîtrise le développement web avec des technologies telles que Python/Django, Java/Spring Boot, PHP, .NET Core, JavaScript et React. Fort de plusieurs projets académiques et professionnels, j'ai conçu des applications web fiables, bien structurées et intégrées à des bases de données comme MySQL, Oracle et SQL Server.
            </p>
            <div class="mb-4 skills-badges">
                {% comment %} Skills badges {% endcomment %}
                <span class="badge modern-badge me-2 p-2" data-skill="Python">Python</span>
                <span class="badge modern-badge me-2 p-2" data-skill="Django">Django</span>
                <span class="badge modern-badge me-2 p-2" data-skill="JavaScript">JavaScript</span>
                <span class="badge modern-badge me-2 p-2" data-skill="Java">Java</span>
                <span class="badge modern-badge me-2 p-2" data-skill="Spring Boot">Spring Boot</span>
                <span class="badge modern-badge me-2 p-2" data-skill="PHP">PHP</span>
                <span class="badge modern-badge me-2 p-2" data-skill=".NET Core">.NET Core</span>
                <span class="badge modern-badge me-2 p-2" data-skill="React">React</span>
                <span class="badge modern-badge me-2 p-2" data-skill="MySQL">MySQL</span>
                <span class="badge modern-badge me-2 p-2" data-skill="Docker">Docker</span>
            </div>
            <a href="{% url 'blog' %}" class="btn btn-light btn-lg cta-button">
                <i class="bi bi-journal-text me-2"></i>Découvrir mon blog & Projets
                <div class="ripple-effect"></div>
            </a>
            <a href="{% url 'download_cv' %}" class="btn btn-outline-light btn-lg ms-2">
                <i class="bi bi-download me-2"></i>Télécharger mon CV
            </a>
        </div>
        <div class="col-lg-4 text-center">
            <div class="profile-container">
                <img src="{% static 'img/avatar.jpg' %}"
                     alt="Portrait" class="img-fluid rounded-circle profile-img">
                <div class="profile-ring"></div>
            </div>
        </div>
    </div>
</div>

<!-- About Section -->
<div class="row mb-5 fade-in-section" id="about-section">
    <div class="col-lg-6">
        <h2 class="h3 mb-4 section-title">À propos de moi</h2>
        <div class="about-content">
            <p class="about-paragraph">
                Ingénieur en Informatique et Réseaux, je débute ma carrière avec une formation solide et des projets concrets dans les domaines du développement logiciel, du testing, du Big Data et de l'analyse de données. Grâce à mon parcours orienté MIAGE, je combine des compétences techniques en programmation (Python, Java, SQL) avec une bonne compréhension des enjeux métier et de la gestion de projet.
            </p>
            <p class="about-paragraph">
                Curieux, rigoureux et passionné par la donnée, je m'intéresse particulièrement aux technologies modernes de traitement de données, à la visualisation, ainsi qu'aux outils d'automatisation et d'analyse avancée. Je suis prêt à relever de nouveaux défis et à contribuer activement à des projets innovants et orientés résultats.
            </p>
        </div>
    </div>
    <div class="col-lg-6">
        <h2 class="h3 mb-4 section-title">Compétences</h2>
        <div class="skills-container">
            {% comment %} Skills bars {% endcomment %}
            <div class="skill-item mb-3" data-skill="90">
                <div class="d-flex justify-content-between mb-1">
                    <span class="skill-name">Python/Django</span>
                    <span class="skill-percentage">90%</span>
                </div>
                <div class="progress modern-progress">
                    <div class="progress-bar progress-bar-animated bg-primary" data-width="90"></div>
                </div>
            </div>
            <div class="skill-item mb-3" data-skill="85">
                <div class="d-flex justify-content-between mb-1">
                    <span class="skill-name">JavaScript/React</span>
                    <span class="skill-percentage">85%</span>
                </div>
                <div class="progress modern-progress">
                    <div class="progress-bar progress-bar-animated bg-info" data-width="85"></div>
                </div>
            </div>
            <div class="skill-item mb-3" data-skill="75">
                <div class="d-flex justify-content-between mb-1">
                    <span class="skill-name">C/C++/C#/.NetCore</span>
                    <span class="skill-percentage">75%</span>
                </div>
                <div class="progress modern-progress">
                    <div class="progress-bar progress-bar-animated bg-warning" data-width="75"></div>
                </div>
            </div>
            <div class="skill-item mb-3" data-skill="75">
                <div class="d-flex justify-content-between mb-1">
                    <span class="skill-name">Java/Spring Boot</span>
                    <span class="skill-percentage">75%</span>
                </div>
                <div class="progress modern-progress">
                    <div class="progress-bar progress-bar-animated bg-warning" data-width="75"></div>
                </div>
            </div>
            <div class="skill-item mb-3" data-skill="80">
                <div class="d-flex justify-content-between mb-1">
                    <span class="skill-name">Base de données</span>
                    <span class="skill-percentage">80%</span>
                </div>
                <div class="progress modern-progress">
                    <div class="progress-bar progress-bar-animated bg-success" data-width="80"></div>
                </div>
            </div>
            <div class="skill-item mb-3" data-skill="75">
                <div class="d-flex justify-content-between mb-1">
                    <span class="skill-name">PHP</span>
                    <span class="skill-percentage">75%</span>
                </div>
                <div class="progress modern-progress">
                    <div class="progress-bar progress-bar-animated bg-warning" data-width="75"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Recent Posts Section -->
{% if recent_posts %}
<div class="mb-5 fade-in-section " id="posts-section">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="h3 mb-0 section-title">Articles récents</h2>
        <a href="{% url 'blog' %}" class="btn btn-outline-primary modern-btn">
            Voir tous les articles <i class="bi bi-arrow-right ms-1"></i>
        </a>
    </div>

    <div class="row">
        {% for post in recent_posts %}
        <div class="col-md-4 mb-4 ">
            <div class="card h-100 shadow-sm modern-card bg-light">
                {% comment %} Media preview: image, video, or YouTube {% endcomment %}
                <div class="card-media-wrapper" style="height: 220px; overflow: hidden;">
                    {% if post.media %}
                        {% if post.media_type == 'video' %}
                            <video class="w-100 h-100" style="object-fit: cover;" controls muted>
                                <source src="{{ post.media.url }}" type="video/mp4">
                                Votre navigateur ne supporte pas la lecture vidéo.
                            </video>
                        {% else %}
                            <img src="{{ post.media.url }}" class="w-100 h-100" alt="{{ post.title }}" style="object-fit: cover;">
                        {% endif %}
                    {% elif post.video_url %}
                        <iframe class="w-100 h-100" style="border: 0;" src="{{ post.video_embed_url }}" title="{{ post.title }}" allowfullscreen loading="lazy"></iframe>
                    {% else %}
                        <div class="bg-light d-flex align-items-center justify-content-center w-100 h-100 modern-placeholder">
                            <i class="bi bi-image text-muted" style="font-size: 3rem;"></i>
                        </div>
                    {% endif %}
                </div>

                <div class="card-body">
    <h5 class="card-title text-body">{{ post.title }}</h5>
    <p class="card-text text-body">{{ post.content|truncatewords:20 }}</p>
    <div class="d-flex justify-content-between align-items-center">
        <small class="text-muted">{{ post.created_at|date:"d M Y" }}</small>
        <span class="badge bg-secondary">
            {% if post.comment_count > 0 %}
                {{ post.comment_count }} commentaire{{ post.comment_count|pluralize }}
            {% else %}
                Aucun commentaire
            {% endif %}
        </span>
    </div>
</div>


                <div class="card-footer bg-transparent">
                    <a href="{% url 'post_detail' post.pk %}" class="btn btn-primary btn-sm modern-btn">
                        Lire la suite <i class="bi bi-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- Contact Section -->
<div class="bg-light rounded-3 p-4 fade-in-section contact-section" id="contact-section">
    <div class="text-center">
        <h2 class="h3 mb-3 section-title">Restons en contact</h2>
        <p class="mb-4">Intéressé par une collaboration ? N'hésitez pas à me contacter !</p>
        <div class="d-flex justify-content-center gap-3 contact-buttons">
            <a href="mailto:othmanechaikhi.pro@gmail.com" class="btn btn-outline-primary modern-btn contact-btn">
                <i class="bi bi-envelope me-2"></i>Email
            </a>
            <a href="https://www.linkedin.com/in/othmanechaikhi/" target="_blank" class="btn btn-outline-primary modern-btn contact-btn">
                <i class="bi bi-linkedin me-2"></i>LinkedIn
            </a>
            <a href="https://github.com/othmane-chaikhi" target="_blank" class="btn btn-outline-primary modern-btn contact-btn">
                <i class="bi bi-github me-2"></i>GitHub
            </a>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

{% endblock %}
