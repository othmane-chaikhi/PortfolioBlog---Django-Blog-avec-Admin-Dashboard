{% load static %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="Ndwd3g5UNvGZ4opaSXal2Ndtt0bA6wDQ7kCamcsSPKg" />
    <title>{% block title %}Portfolio Othmane Chaikhi - Ingénieur Informatique{% endblock %}</title>

    <!-- Description SEO -->
    <meta name="description" content="Portfolio de Othmane Chaikhi, ingénieur en informatique et développeur full-stack. Découvrez mes projets, compétences et expériences à l'EMSI Casablanca.">

    <!-- Mots-clés -->
    <meta name="keywords" content="Othmane Chaikhi, Othmane Chikhi, Othmane Cheikhi, othmane info, EMSI, ingénieur informatique Maroc, développeur web Casablanca, عتمان الشيخي, othman chaikhi, othmane portfolio, développeur Django, full stack developer marocain, portfolio développeur, site web personnel maroc, ingénieur logiciel Casablanca">

    <!-- Open Graph / Réseaux sociaux -->
    <meta property="og:title" content="Portfolio - Othmane Chaikhi">
    <meta property="og:description" content="Découvrez le profil de Othmane Chaikhi, ingénieur informatique et développeur full-stack passionné par le web.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:site_name" content="Portfolio Othmane Chaikhi">
    <meta property="og:image" content="{% static 'img/portfolio-cover.jpg' %}">
    <meta property="og:url" content="https://tonsite.com/">

    <!-- Balises cachées SEO pour variantes et orthographes -->
    <meta name="author" content="Othmane Chaikhi">

    <!-- Robots -->
    <meta name="robots" content="index, follow">

    <!-- Canonical URL dynamique -->
    {% if request.get_full_path|slice:":6" == "/blog/" %}
        {% if request.GET.page %}
            <link rel="canonical" href="https://othmanechaikhi.pythonanywhere.com/blog/">
        {% else %}
            <link rel="canonical" href="https://othmanechaikhi.pythonanywhere.com{{ request.path }}">
        {% endif %}
    {% else %}
        <link rel="canonical" href="https://othmanechaikhi.pythonanywhere.com{{ request.path }}">
    {% endif %}

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

    <!-- Typed.js -->
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

    <!-- Custom CSS -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>

<body data-theme="light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top modern-nav">
        <div class="container">
            <a class="navbar-brand fw-bold brand-logo" href="{% url 'home' %}">
                <i class="bi bi-person-circle me-2"></i>My World
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}" href="{% url 'home' %}">
                            <i class="bi bi-house me-1"></i>Accueil
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'blog' %}active{% endif %}" href="{% url 'blog' %}">
                            <i class="bi bi-journal-text me-1"></i>Blog & Projets
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'download_cv' %}">
                            <i class="bi bi-file-earmark-arrow-down me-1"></i>Télécharger CV
                        </a>
                    </li>
                </ul>

                <ul class="navbar-nav">
                    <!-- Dark Mode Toggle -->
                    <li class="nav-item me-3">
                        <button id="themeToggle" class="btn btn-outline-light btn-sm theme-toggle">
                            <i class="bi bi-moon-fill theme-icon"></i>
                        </button>
                    </li>

                    {% if user.is_authenticated %}
                        {% if user.is_staff %}
                            <li class="nav-item">
                                <a class="nav-link text-warning" href="{% url 'admin_dashboard' %}">
                                    <i class="bi bi-gear me-1"></i>Dashboard
                                </a>
                            </li>
                        {% endif %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="bi bi-person me-1"></i>{{ user.username }}
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <form method="post" action="{% url 'logout' %}">
                                        {% csrf_token %}
                                        <button type="submit" class="dropdown-item">
                                            <i class="bi bi-box-arrow-right me-1"></i>Déconnexion
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'login' %}">
                                <i class="bi bi-box-arrow-in-right me-1"></i>Connexion
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'register' %}">
                                <i class="bi bi-person-plus me-1"></i>Inscription
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Messages -->
    {% if messages %}
        <div class="container mt-5 pt-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show modern-alert" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Main Content -->
    <main class="{% block main_class %}container my-5 pt-4{% endblock %}">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5 modern-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>My World</h5>
                    <p class="mb-0">Othmane Chaikhi | Ingénieur & Développeur</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">&copy; {% now "Y" %} My World. Tous droits réservés.</p>
                </div>
            </div>
        </div>
    </footer>

    <div style="display:none; visibility:hidden;">
        othmane chaikhi othmane chikhi othmane cheikhi othmane info othman chaikhi othmane portfolio othmane dev maroc
        emsi casablanca ingénieur informatique développeur full stack marocain web developer django python html css js
        عتمان الشيخي العتمان الشخي othmane chaikh othman cheikh othmane chakhi othman chikhi othman cheikhi
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Typed.js -->
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

    <!-- Custom JS -->
    <script src="{% static 'js/main.js' %}"></script>

    {% block extra_js %}
    {% endblock %}
</body>
</html>
